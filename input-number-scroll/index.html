<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>input输入框num类型问题</title>
</head>
<body>
  <div class="title">
    <p>一般，使用了number类型的input时，浏览器会自动添加一个功能，就是鼠标放在输入框中，滚动滚轮的时候，页面不会滚动，输入框中的数值会变。</p>
    <p>下面解决这个问题</p>
  </div>
  <h4>1. 原版问题复现（浏览器支持这种“多余的功能”，才会复现）</h4>
  <input type="number" value="1">
  <hr>
  <h4>2. 解决方式1，用js设置，在input框中时，取消滚动功能</h4>
  <input class="needSet" type="number" value="1">
  <hr>
  <h4>3. 解决方式2，不适用number类型的输入框，使用text框并且使用 onkeypress(有兼容性问题) 方法控制</h4>
  <input type="text" onkeypress="return(/[\d|\.]/.test(String.fromCharCode(event.keyCode)))" value="1">
  <hr>
  <h4>4. 解决方式3(最终推荐)，同上类似，不适用number类型的输入框，使用text框，但使用 onfocus 和 oninput 方法配合控制，限制输入框只能输入数字，整数最多5位，小数最多4位</h4>
  <input type="text" onfocus="this.oldValue=this.value;"
    oninput="/^([1-9]\d{0,4}|0|)(\.\d{0,4})?$/ig.test(this.value) ? this.oldValue=this.value : this.value=this.oldValue"
    placeholder="整数最多5位，小数最多4位" value="">
  <hr>
  <h3>其他拓展</h3>
  <div>需要移动端打开，使调起的键盘，只能输入数字，主要使用 h5 的 input 的 pattern 属性</div>
  <input type="number" pattern="[0-9]*" value="1">
</body>
</html>
<script>
  document.querySelector('body input[type=number].needSet').onmousewheel = function() {
    return false
  }
</script>